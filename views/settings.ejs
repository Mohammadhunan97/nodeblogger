<!DOCTYPE html>
<html>
<head>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>
<body>

	<a href="/new_post/" class="nav-item">Make a New Post</a>
	<a href="/dashboard/" class="nav-item">Dashboard</a>
	<a href="/search/" class="nav-item">Search</a>
	<a href="/user/profile/" class="nav-item">Profile</a>
	<a href="/user/settings/" class="nav-item">Settings</a>

	<br/>
	<br/>

	<div class="user-container">
		<h2> <%= user.username %> </h2>
		<img src="<%= user.profile_pic %>" class="user-image"/>

		<br/>
		<div class="followers-container">
		<p>Users who follow you:</p>

		<% user.followers.forEach((usr) =>{ %>
			<p class="usr-follower"> <a href="/user/profile/<%= usr %>"><%= usr %></a></p>
			<br/>
		<% }) %>
		</div>

		<div class="following-container">
		<p>Users you are following:</p>
		<% user.followings.forEach((usr) =>{ %>
			<p class="usr-follower"><a href="/user/profile/<%= usr %>"><%= usr %></a></p> 
			<button>
				<a href="/user/following/remove/<%= usr %>">Unfollow</a>
			</button>
			<br/>
		<% }) %>
		</div>
	</div>

	<% posts.forEach((post) =>{ %>
	<hr/>
		<div class="post-container">
			<h2 class="post-title"> <%= post.title %> </h2>
			<a class="delete-post" href="/post/remove/<%= post._id %>">Delete this post</a>
			<a class="update-post" href="/post/update/<%= post._id %>">Update this post</a>
			<br/>
			<img class="post-image" src="<%= post.image %>"  />
			<br/>
			<p class="post-description"> <%= post.description %> </p>
			<span class="tag-container">
				<% post.tags.forEach((tag) => { %>
					<a class="post-tag" href="/search/<%= tag %>"><%= tag %></a>
				<% }) %>
			</span>
		</div>
	<% }) %>

	<script type="text/javascript" src="/script.js"></script>
</body>
</html>

